<!--include header-->
<%- include('include/_header')%>
  <!--/include header-->
  <!--Main Site-->
  <main id="site-main">
    <div class="container">
      <div class="box-nav d-flex-justify-between">
        <div class="filter">
          <a href="/index-challan"><i class="fas fa-angle-double-left"></i>Challan detail</a>
        </div>
      </div>
      <div class="form-title text-center">
        <h2 class="text-dark">Driver Challan</h2>
        <span class="text-light">Use the below form for driver challan</span>
      </div>
      <!--add challan -->
      <!--form handling-->
      <form method="POST" action="/api/challanusers" id="challan" onsubmit="return validateForm()">
        <div class="new_user">
          <div class="form-group">
            <label for="name" class="text-light">Name</label>
            <input type="hidden" name="id" value="">
            <input type="text" name="name" value="" placeholder="Enter Name" required>
          </div>
          <div class="form-group">
            <label for="email" class="text-light">E-mail</label>
            <input type="text" name="email" value="" id="email" required>
            <span id="emailError" class="error"></span>
          </div>
          <div class="form-group">
            <label for="contact" class="text-light">Rule Violated:</label>
            <input type="text" name="ruleviolated" value="" required>
          </div>
          <div class="form-group">
            <label for="dov" class="text-light">Date of Violation</label>
            <input type="date" name="dateOfviolation" value="" required>
          </div>
          <div class="form-group">
            <label for="vehicleno" class="text-light">Vehicle Number</label>
            <input type="text" name="vehicleno" value="" required>
          </div>
          <div class="form-group">
            <label for="amount" class="text-light">Amount</label>
            <input type="text" name="amount" value="" required>
          </div>
          <div class="form-group">
            <button type="submit" class="btn text-white update">Save</button>
          </div>
        </div>
      </form>
      <!--/form handling-->
    </div>
  </main>

  <script>
    function validateForm() {
      var emailInput = document.getElementById("email");
      var emailError = document.getElementById("emailError");
      // Regular expression for email validation (Gmail)
      var emailPattern = /^[^\s@]+@gmail\.com$/;

      // Check if the email is in a valid format
      if (!emailPattern.test(emailInput.value)) {
        alert("Please enter a valid Email address");
        emailInput.focus();
        return false;
      } else {
        emailError.innerText = "";
      }
    }
  </script>
  <!--include footer-->
  <%-include('include/_footer')%>
    <!--/include footer-->